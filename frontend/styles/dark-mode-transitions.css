/**
 * Dark Mode Transition Utilities
 * CastMatch Design System - Smooth Theme Switching
 * 
 * Performance: <100ms transitions for instant feel
 * WCAG AAA compliant with respect for reduced motion
 * OLED optimized with true black backgrounds
 */

/* CSS Custom Properties for Dynamic Theming */
:root {
  /* Transition Configuration */
  --theme-transition-duration: 85ms;
  --theme-transition-easing: cubic-bezier(0.16, 1, 0.3, 1);
  --theme-transition-fast: 50ms;
  --theme-transition-slow: 150ms;
  
  /* Color Transition Properties */
  --transition-properties: 
    background-color,
    color,
    border-color,
    box-shadow,
    fill,
    stroke,
    opacity,
    backdrop-filter;
}

/* Base Transition Classes */
.theme-transition {
  transition: var(--transition-properties) var(--theme-transition-duration) var(--theme-transition-easing);
}

.theme-transition-fast {
  transition: var(--transition-properties) var(--theme-transition-fast) var(--theme-transition-easing);
}

.theme-transition-slow {
  transition: var(--transition-properties) var(--theme-transition-slow) var(--theme-transition-easing);
}

/* Component-Specific Transitions */
.button-transition {
  transition: 
    background-color var(--theme-transition-fast) var(--theme-transition-easing),
    color var(--theme-transition-fast) var(--theme-transition-easing),
    border-color var(--theme-transition-fast) var(--theme-transition-easing),
    box-shadow var(--theme-transition-duration) var(--theme-transition-easing),
    transform var(--theme-transition-fast) var(--theme-transition-easing);
}

.card-transition {
  transition:
    background-color var(--theme-transition-duration) var(--theme-transition-easing),
    border-color var(--theme-transition-duration) var(--theme-transition-easing),
    box-shadow var(--theme-transition-slow) var(--theme-transition-easing);
}

.text-transition {
  transition: color var(--theme-transition-duration) var(--theme-transition-easing);
}

.border-transition {
  transition: border-color var(--theme-transition-duration) var(--theme-transition-easing);
}

.shadow-transition {
  transition: box-shadow var(--theme-transition-slow) var(--theme-transition-easing);
}

.backdrop-transition {
  transition: backdrop-filter var(--theme-transition-duration) var(--theme-transition-easing);
}

/* Glassmorphism Transitions */
.glass-transition {
  transition:
    backdrop-filter var(--theme-transition-duration) var(--theme-transition-easing),
    background-color var(--theme-transition-duration) var(--theme-transition-easing),
    border-color var(--theme-transition-duration) var(--theme-transition-easing);
}

/* Navigation Transitions */
.nav-transition {
  transition:
    background-color var(--theme-transition-fast) var(--theme-transition-easing),
    border-bottom-color var(--theme-transition-fast) var(--theme-transition-easing),
    backdrop-filter var(--theme-transition-duration) var(--theme-transition-easing);
}

/* Modal Transitions */
.modal-transition {
  transition:
    background-color var(--theme-transition-duration) var(--theme-transition-easing),
    backdrop-filter var(--theme-transition-duration) var(--theme-transition-easing);
}

.modal-overlay-transition {
  transition: 
    background-color var(--theme-transition-duration) var(--theme-transition-easing),
    opacity var(--theme-transition-duration) var(--theme-transition-easing);
}

/* Input Transitions */
.input-transition {
  transition:
    background-color var(--theme-transition-fast) var(--theme-transition-easing),
    border-color var(--theme-transition-fast) var(--theme-transition-easing),
    color var(--theme-transition-fast) var(--theme-transition-easing),
    box-shadow var(--theme-transition-duration) var(--theme-transition-easing);
}

/* Icon Transitions */
.icon-transition {
  transition:
    fill var(--theme-transition-fast) var(--theme-transition-easing),
    stroke var(--theme-transition-fast) var(--theme-transition-easing),
    color var(--theme-transition-fast) var(--theme-transition-easing);
}

/* Theme Mode States */
[data-theme="light"] {
  color-scheme: light;
}

[data-theme="dark"] {
  color-scheme: dark;
}

[data-theme="auto"] {
  color-scheme: light dark;
}

/* Transition State Management */
.theme-switching * {
  pointer-events: none; /* Prevent interactions during transition */
}

.theme-switching *::before,
.theme-switching *::after {
  pointer-events: none;
}

/* Performance Optimizations */

/* Reduce Paint on Theme Switch */
.theme-optimized {
  transform: translateZ(0); /* Force GPU acceleration */
  backface-visibility: hidden;
  perspective: 1000px;
}

/* Contain Layout Shifts */
.theme-contained {
  contain: layout style paint;
}

/* Critical Path Optimization */
.above-the-fold {
  contain: layout style;
  content-visibility: auto;
}

/* Smooth Scroll During Theme Transitions */
.smooth-scroll-theme {
  scroll-behavior: smooth;
}

/* Accessibility: Respect Motion Preferences */
@media (prefers-reduced-motion: reduce) {
  *,
  *::before,
  *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
  
  .theme-transition,
  .theme-transition-fast,
  .theme-transition-slow,
  .button-transition,
  .card-transition,
  .text-transition,
  .border-transition,
  .shadow-transition,
  .backdrop-transition,
  .glass-transition,
  .nav-transition,
  .modal-transition,
  .modal-overlay-transition,
  .input-transition,
  .icon-transition {
    transition: none !important;
  }
}

/* High Contrast Mode Support */
@media (prefers-contrast: high) {
  :root {
    --theme-transition-duration: 0ms; /* Instant for high contrast */
  }
  
  .theme-transition,
  .theme-transition-fast,
  .theme-transition-slow {
    transition: none !important;
  }
}

/* Focus Management During Transitions */
.theme-switching *:focus {
  transition: outline-color var(--theme-transition-fast) var(--theme-transition-easing);
}

.theme-switching *:focus-visible {
  outline: 2px solid currentColor;
  outline-offset: 2px;
}

/* Mumbai Film Industry Aesthetic Enhancements */

/* Golden Hour Transition Effect */
@keyframes golden-hour-glow {
  0% { filter: brightness(1) saturate(1); }
  50% { filter: brightness(1.1) saturate(1.2) hue-rotate(5deg); }
  100% { filter: brightness(1) saturate(1); }
}

.mumbai-golden-transition {
  animation: golden-hour-glow 2s ease-in-out;
}

/* Bollywood Glamour Shimmer */
@keyframes bollywood-shimmer {
  0% { background-position: -200% center; }
  100% { background-position: 200% center; }
}

.bollywood-shimmer {
  background: linear-gradient(
    90deg,
    transparent,
    rgba(255, 215, 0, 0.1) 30%,
    rgba(255, 215, 0, 0.3) 50%,
    rgba(255, 215, 0, 0.1) 70%,
    transparent
  );
  background-size: 200% 100%;
  animation: bollywood-shimmer 3s ease-in-out infinite;
}

/* Cinema Spotlight Effect */
.cinema-spotlight {
  position: relative;
  overflow: hidden;
}

.cinema-spotlight::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: radial-gradient(
    circle at center,
    transparent 0%,
    transparent 60%,
    rgba(0, 0, 0, 0.3) 100%
  );
  pointer-events: none;
  transition: opacity var(--theme-transition-duration) var(--theme-transition-easing);
}

[data-theme="dark"] .cinema-spotlight::before {
  opacity: 1;
}

[data-theme="light"] .cinema-spotlight::before {
  opacity: 0;
}

/* Advanced Glassmorphism for Mumbai Aesthetic */
.mumbai-glass {
  backdrop-filter: blur(20px) saturate(180%) brightness(110%);
  -webkit-backdrop-filter: blur(20px) saturate(180%) brightness(110%);
  background: rgba(255, 255, 255, 0.1);
  border: 1px solid rgba(255, 255, 255, 0.2);
  border-radius: 12px;
  box-shadow: 
    0 8px 32px rgba(0, 0, 0, 0.1),
    inset 0 1px 0 rgba(255, 255, 255, 0.2);
  transition: all var(--theme-transition-duration) var(--theme-transition-easing);
}

[data-theme="dark"] .mumbai-glass {
  background: rgba(0, 0, 0, 0.2);
  border-color: rgba(255, 255, 255, 0.1);
  box-shadow: 
    0 8px 32px rgba(0, 0, 0, 0.3),
    inset 0 1px 0 rgba(255, 255, 255, 0.1);
}

/* Neon Glow Effects */
.neon-glow-blue {
  box-shadow: 
    0 0 5px var(--castmatch-neon-electric-blue-500),
    0 0 10px var(--castmatch-neon-electric-blue-500),
    0 0 20px var(--castmatch-neon-electric-blue-500);
  transition: box-shadow var(--theme-transition-duration) var(--theme-transition-easing);
}

.neon-glow-magenta {
  box-shadow: 
    0 0 5px var(--castmatch-neon-magenta-500),
    0 0 10px var(--castmatch-neon-magenta-500),
    0 0 20px var(--castmatch-neon-magenta-500);
  transition: box-shadow var(--theme-transition-duration) var(--theme-transition-easing);
}

.neon-glow-saffron {
  box-shadow: 
    0 0 5px var(--castmatch-mumbai-saffron-500),
    0 0 10px var(--castmatch-mumbai-saffron-500),
    0 0 20px var(--castmatch-mumbai-saffron-500);
  transition: box-shadow var(--theme-transition-duration) var(--theme-transition-easing);
}

/* Cinematic Depth Layers */
.cinematic-depth {
  position: relative;
  transform-style: preserve-3d;
}

.cinematic-depth::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: linear-gradient(
    135deg,
    rgba(0, 0, 0, 0) 0%,
    rgba(0, 0, 0, 0.1) 25%,
    rgba(0, 0, 0, 0.2) 50%,
    rgba(0, 0, 0, 0.1) 75%,
    rgba(0, 0, 0, 0) 100%
  );
  border-radius: inherit;
  pointer-events: none;
  transition: opacity var(--theme-transition-duration) var(--theme-transition-easing);
}

[data-theme="dark"] .cinematic-depth::before {
  opacity: 1;
}

[data-theme="light"] .cinematic-depth::before {
  opacity: 0.5;
}

/* Performance Monitoring Indicators (Development Only) */
@media screen and (min-width: 1200px) {
  .dev-performance-indicator {
    position: fixed;
    top: 10px;
    right: 10px;
    background: rgba(0, 0, 0, 0.8);
    color: #00ff00;
    padding: 8px 12px;
    border-radius: 4px;
    font-family: 'Monaco', 'Menlo', monospace;
    font-size: 12px;
    z-index: 9999;
    display: none; /* Hidden by default */
  }

  .dev-mode .dev-performance-indicator {
    display: block;
  }
}

/* Print Styles */
@media print {
  *,
  *::before,
  *::after {
    transition: none !important;
    animation: none !important;
    box-shadow: none !important;
    text-shadow: none !important;
  }
  
  .theme-transition,
  .glass-transition,
  .neon-glow-blue,
  .neon-glow-magenta,
  .neon-glow-saffron {
    box-shadow: none !important;
    backdrop-filter: none !important;
    -webkit-backdrop-filter: none !important;
  }
}